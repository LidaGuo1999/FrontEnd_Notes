## 第5章 引用类型

引用类型是一种数据结构，用于将数据和功能组织在一起（与类相似，但不一样）。ECMAScript是面向对象的语言，但是不具备传统面向对象语言所支持的类和接口等基本结构。引用类型有时候也被称为对象定义，因为其描述的是一类对象所具有的属性和方法。

引用类型的值（即对象）是引用类型的一个实例，对象是使用new操作符后跟一个构造函数来创建的。ECMAScript提供了许多原生引用类型（比如Object），供开发者方便使用。一个简单的对象定义如下：

```javascript
var person = new Object();
```

### 5.1 Object类型

大多数引用类型值都是Object，是使用最多的类型。

- 创建Object实例有两种方法：

  - 构造函数法：new操作符后跟Object构造函数即可；

  - 对象字面量表示法：是一种对象定义的简写形式，由于可读性更高，所以其是向函数传递大量可选参数的首选方式。具体例子如下：

    ```javascript
    var person = {
    	name: "Mars", 
        "age": 22,
        5: true
    }
    ```

    有几个地方需要注意。第一，属性名可以使用字符串，也可以不使用，如果使用数值类型的话会被自动转换为字符串；第二，最后一个属性后面不能添加逗号；第三，通过该方法定义的对象，实际上不会调用Object构造函数。

- 在给函数传递参数时，为了提高灵活性，可以对必需值使用命名参数，而使用对象字面量来封装多个可选参数，如下：

  ```javascript
  function displayInfo(param1, param2, args) {
      var mendatory = param1 + param2;	// 这两个命名参数是必须的
      var output = "";
      if (typeof args.name == "string") {		// 利用typeof来检验对象字面量是否包含所需的属性
          output += "Name: " + args.name + "\n";
      }
      if (typeof args.age == "number") {
          output += "Age: " + args.age + "\n";
      }
      alert(output);
      return mendatory;
  }
  
  displayInfo(3, 5, {
      name: "Mars"		
  });	// 传入参数的时候比较灵活，对于可选参数的处理在函数定义内解决，调用方便
  ```

- 访问对象属性时一般是使用点表示法，也是很多面向对象语言通用的语法。js也可以使用方括号表示法来访问，即将要访问的属性以字符串形式放在方括号中即可，有几点需要注意：

  - 属性名要以字符串形式放在方括号中；
  - 可以通过对象来访问属性（即方括号中是存储了一个字符串的变量）；
  - 一般适用于属性名中包含关键字、保留字或者空格的时候，这种情况下点表示法就会报错；

  除了必须使用方括号表示法以外的情况，都建议使用点表示法。