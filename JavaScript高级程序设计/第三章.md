## 第3章 基本概念

### 3.1 语法

ECMAScript（js是它的一个实现）的语法借鉴了许多C语言的语法。

- js的一切都区分大小写；

- 标识符以字母、下划线(_)或者美元符号(\$)开头，由字母、下划线、美元符号或数字组成，一般建议采用驼峰命名法。不允许关键字、保留字、true、false和null用作标识符；

- 单行注释用//，多行注释用/*  */；

- 严格模式是js定义的一种不同的解析与执行模型，某些不确定的行为将得到处理，而且对某些不安全的操作也会抛出错误。在代码顶部或者函数开头都可以指定开启严格模式，添加如下代码即可：

  ```javascript
  "use strict";	// 看起来是字符串，其实是一个编译指示。
  ```

- 语句可以以分号结尾，也可以不加分号由解析器确定结尾。但是为了可读性和安全性，建议还是分号结尾。

### 3.2 关键字和保留字

略

### 3.3 变量

- js的变量是松散类型的，可以用来保存任何类型的数据，且保存的数据类型随时可以根据变量类型更改；

- 使用var操作符定义变量，一条语句可以定义多个变量，只需要逗号隔开，如：

  ```javascript
  var message = 'hi', found = false, age = 29;
  ```

- 使用var定义的变量是局部变量，如果省略var操作符，那么定义的就是全局变量（严格模式下会抛出ReferenceError错误），如：

  ```javascript
  function test() {
  	message = 'hi';	// 全局变量
  }
  ```

### 3.4 数据类型

js中只有6种数据类型，其中5中简单类型Undefined、Null、Boolean、Number和String，1种复杂数据类型Object（本质上就是字典，即一组无序的键值对）。js不支持任何创建自定义类型的机制。

- typeof操作符（注意不是函数）用于检测变量的数据类型，返回值可能是以下几种：

  - undefined：变量类型为Undefined；
  - boolean：变量类型为Boolean；
  - string：变量类型为String；
  - number：变量类型为Number；
  - object：变量类型为Object（非函数）或Null；
  - function：变量类型为Object但其代表一个函数；

  由于typeof为操作符，因此加不加括号都可以：

  ```javascript
  // 下面两个式子等价
  alert(typeof(message));
  alert(typeof message);
  ```

  从技术上看函数是Object，不是一种数据类型，但是函数有一些特殊的属性，因此typeof对其进行区分也是必要的。

- Undefined类型只有一个值，即为undefined，使用var声明变量但是没有初始化时值就是undefined。如果对未声明（不是未初始化）的变量使用typeof，那么结果也是undefined，但是未声明的变量在其他语句中就会导致程序出错。

- Null类型只有一个值，即为null。从逻辑上看，null值表示一个空对象指针。如果定义的变量准备在将来用于保存对象，那么将其初始化为null值是一个很好的选择。同时undefined值从null派生出来的，因此它们在相等性测试中是一样的，即

  ```javascript
  alert(null == undefined); // true
  ```

- Boolean类型取值只有两个：true和false（注意都是小写）。但是它们和数字值不是一回事，true不一定等于非零，false也不一定等于0。Boolean()是一个转型函数，可以对任意的数据类型使用，值的转换规律如下表：

  | 数据类型  | 转换为true的值             | 转换为false的值 |
  | --------- | -------------------------- | --------------- |
  | Boolean   | true                       | false           |
  | String    | 任何非空字符串             | 空字符串        |
  | Number    | 任何非零数字（包括无穷大） | 0和NaN          |
  | Object    | 任何对象                   | null            |
  | Undefined | 无                         | undefined       |

  

